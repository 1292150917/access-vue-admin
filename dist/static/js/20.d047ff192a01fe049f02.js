webpackJsonp([20],{o258:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{tableData:[],dialogVisible:!1,labelPosition:"menu",ruleForm:{name:"",delivery:!1,menu:"",num:1},rules:{name:[]}}},mounted:function(){var e=this.$store.state.menu.menuList,t=0;e.map(function(e,l){e.id=e.id||t,t++,e.children&&e.children.map(function(e,l){e.id=e.id||t,t++})}),this.tableData=e},methods:{handleChange:function(){},showModel:function(e){this.dialogVisible=!0,this.labelPosition=e},deleteMenu:function(e){this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){}).catch(function(){})},deleteAllow:function(e){this.$confirm("确定要删除 "+e.name+" ？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(function(){}).catch(function(){})},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return!1;alert("submit!")})}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"page-content"},[l("el-row",[l("el-button",{directives:[{name:"allow",rawName:"v-allow",value:"menu/add",expression:"'menu/add'"}],attrs:{type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.showModel("menu")}}},[e._v("\n      新建\n    ")])],1),e._v(" "),l("div",{staticClass:"table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{lazy:"",data:e.tableData,"row-key":"id",size:"medium","tree-props":{children:"children",hasChildren:"hasChildren"},"header-cell-style":{color:"#666"}}},[l("el-table-column",{attrs:{prop:"title",label:"菜单名称"}}),e._v(" "),l("el-table-column",{attrs:{prop:"power",label:"权限标识"}}),e._v(" "),l("el-table-column",{attrs:{prop:"path",label:"路由"}}),e._v(" "),l("el-table-column",{attrs:{prop:"permission",label:"可操作权限"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.permission,function(n,r){return l("el-popover",{key:r,ref:t.row.id,refInFor:!0,attrs:{width:"160",placement:"top"}},[l("p",{staticStyle:{"font-weight":"bold"}},[e._v("操作")]),e._v(" "),l("div",{staticStyle:{"text-align":"right","margin-top":"15px"}},[l("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit"},on:{click:function(t){return e.showModel("button")}}},[e._v("编辑")]),e._v(" "),l("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(t){return e.deleteMenu(n)}}},[e._v("删除")])],1),e._v(" "),l("el-button",{staticStyle:{margin:"0 8px 6px 0"},attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v("\n              "+e._s(n.title)+"\n            ")])],1)})}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"sort",label:"排序",width:"100"}}),e._v(" "),l("el-table-column",{attrs:{prop:"date",label:"创建日期"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150px"}},[[l("el-button",{directives:[{name:"allow",rawName:"v-allow",value:"menu/edit",expression:"'menu/edit'"}],attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){return e.showModel("menu")}}},[e._v("\n            编辑\n          ")]),e._v(" "),l("el-button",{directives:[{name:"allow",rawName:"v-allow",value:"menu/delete",expression:"'menu/delete'"}],staticClass:"el-btn-red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(t){return e.deleteMenu()}}},[e._v("\n            删除\n          ")])]],2)],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"新建菜单",visible:e.dialogVisible,width:"700px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"85px"}},[l("el-form-item",{attrs:{label:"菜单类型"}},[l("el-radio-group",{model:{value:e.labelPosition,callback:function(t){e.labelPosition=t},expression:"labelPosition"}},[l("el-radio-button",{attrs:{label:"menu"}},[e._v("菜单")]),e._v(" "),l("el-radio-button",{attrs:{label:"button"}},[e._v("按钮")])],1)],1),e._v(" "),"menu"===e.labelPosition?[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"菜单名称",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"路由地址",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"权限标识",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"图标",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"菜单排序",prop:"name"}},[l("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,"controls-position":"right"},on:{change:e.handleChange},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{label:"菜单",prop:"delivery"}},[l("el-switch",{model:{value:e.ruleForm.menu,callback:function(t){e.$set(e.ruleForm,"menu",t)},expression:"ruleForm.menu"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{label:"页面缓存",prop:"delivery"}},[l("el-switch",{model:{value:e.ruleForm.delivery,callback:function(t){e.$set(e.ruleForm,"delivery",t)},expression:"ruleForm.delivery"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:5}},[l("el-form-item",{attrs:{label:"菜单可见",prop:"delivery"}},[l("el-switch",{model:{value:e.ruleForm.menu,callback:function(t){e.$set(e.ruleForm,"menu",t)},expression:"ruleForm.menu"}})],1)],1)],1)]:e._e(),e._v(" "),"button"===e.labelPosition?[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"按钮名称",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"权限标识",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1)],1),e._v(" "),l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:12}},[l("el-form-item",{attrs:{label:"图标",prop:"name"}},[l("el-input",{model:{value:e.ruleForm.name,callback:function(t){e.$set(e.ruleForm,"name",t)},expression:"ruleForm.name"}})],1)],1),e._v(" "),l("el-col",{attrs:{span:12}},[l("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"按钮排序",prop:"name"}},[l("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,"controls-position":"right"},on:{change:e.handleChange},model:{value:e.ruleForm.num,callback:function(t){e.$set(e.ruleForm,"num",t)},expression:"ruleForm.num"}})],1)],1)],1)]:e._e()],2),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("\n        确 定\n      ")])],1)],1)],1)},staticRenderFns:[]};var o=l("VU/8")(n,r,!1,function(e){l("seyP")},"data-v-25d1db6c",null);t.default=o.exports},seyP:function(e,t){}});